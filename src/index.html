<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>instaGPX</title>
    <meta name="description" content="Create sharing pictures from your photos and .gpx files" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no" />
    <meta name="author" content="Jorge Moreno aka moro, moro.es (@alterebro)" />
    <meta name="google" content="notranslate" />
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="application-name" content="InstaGPX" />
    <meta name="apple-mobile-web-app-title" content="InstaGPX" />
    <meta name="theme-color" content="#111" />
    <meta name="msapplication-navbutton-color" content="#111" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="msapplication-starturl" content="/?utm_source=homescreen" />
    <link rel="me" href="https://twitter.com/alterebro" />
    <link rel="stylesheet" href="./css/fonts.css" />
    <link rel="stylesheet" href="./css/app.css" />
</head>
<body>

<header role="banner">
    <h1><img src="./img/instagpx.svg" alt="InstaGPX" /></h1>
    <p>Create a picture to share with your activity stats and any of your photos</p>
    <p>Upload your GPX acitvity file and image and select your favorite style</p>
</header>

<div id="app" v-cloak>
    <section role="form">
        <div>
            <p>
                <input type="file" accept=".gpx" @change="loadGPX" id="user-file-gpx" />
                <label for="user-file-gpx">
                    <img src="img/icon-location.svg" alt=".GPX File" />
                    <span>Select your <strong>.GPX</strong> activity file</span>
                </label>
            </p>
            <p v-if="gpxFile" class="file-ok">{{ gpxFile }}</p>
        </div>
        <div>
            <p>
                <input type="file" accept="image/*" @change="loadIMG" id="user-file-image" />
                <label for="user-file-image">
                    <img src="img/icon-photo.svg" alt="Image File" />
                    <span>Select your <strong>Image</strong> file</span>
                </label>
            </p>
            <p v-if="imageFile" class="file-ok">{{ imageFile }}</p>
        </div>
    </section>

    <main role="main">
        <figure role="figure">
            <div id="output"></div>
        </figure>

        <aside role="complementary">
            <p>
                <a href="#" download="instagpx.com.jpg" id="download-img" class="button">
                    <img src="img/icon-download.svg" alt="Download Image" />
                    <span>Download Image</span>
                </a>
            </p>

            <form role="form" v-on:submit.prevent>

                <h3>Options</h3>
                <dl>
                    <dt><label for="activity-title">Title</label></dt>
                    <dd><input type="text" name="activity-title" id="activity-title" v-model="options.title" value="..." /></dd>

                    <dt><label for="activity-date">Date Format : {{ options.timestampPattern }}</label></dt>
                    <dd v-if="gpx.timestamp">
                        <select v-model="options.timestampPattern" name="activity-date" id="activity-date">
                            <option v-for="(pattern, index) in dateTemplates" v-bind:value="index">
                                {{ gpx.timestamp.start | renderTimestamp(pattern) }}
                            </option>
                            <option value="false">No Date!</option>
                        </select>
                    </dd>

                    <dt>Activity Type : <em>{{ options.activity }}</em></dt>
                    <dd>
                        <input type="radio" name="activity-type" id="activity-type-run" v-model="options.activity" value="run" />
                        <label for="activity-type-run">Run</label>

                        <input type="radio" name="activity-type" id="activity-type-ride" v-model="options.activity" value="ride" />
                        <label for="activity-type-ride">Ride</label>
                    </dd>

                    <dt>Unit System : <em>{{ options.units }}</em></dt>
                    <dd>
                        <input type="radio" name="activity-unit" id="activity-unit-metric" v-model="options.units" value="metric" />
                        <label for="activity-unit-metric">Metric (km)</label>

                        <input type="radio" name="activity-unit" id="activity-unit-imperial" v-model="options.units" value="imperial" />
                        <label for="activity-unit-imperial">Imperial (mi)</label>
                    </dd>

                    <dt>Options : <em>{{ options.show }}</em></dt>
                    <dd>
                        <input type="radio" name="activity-show" id="activity-show-elevation" v-model="options.show" value="elevation" />
                        <label for="activity-show-elevation">Elevation</label>

                        <input type="radio" name="activity-show" id="activity-show-speed" v-model="options.show" value="speed" />
                        <label for="activity-show-speed">
                            <span v-if="options.activity == 'ride'">Speed</span>
                            <span v-else>Pace</span>
                        </label>
                    </dd>

                    <dt>Promote <strong>instagpx.com</strong> : {{ options.promote }}</dt>
                    <dd>
                        <input type="checkbox" name="activity-promote" id="activity-promote" v-model="options.promote" />
                        <label for="activity-promote">Show 'instagpx.com' on the image</label>
                    </dd>
                </dl>
                <p>
                    <button type="submit" name="activity-regenerate" v-on:click="regenerateImage">
                        <img src="img/icon-refresh.svg" alt="Refresh Image" />
                        <span>Regenerate Image</span>
                    </button>
                </p>
            </form>
        </aside>
    </main>
</div>

<footer role="contentinfo">
    <nav>
        <h4>Share! :</h4>
        <ul>
            <li class="twitter"><a href="https://twitter.com/intent/tweet?text={TEXT}&url={URL}" target="_blank" rel="noopener noreferrer" title="Share on Twitter">
                <img src="img/icon-share-twitter.svg" alt="Twitter" /> Twitter</a>
            </li>
            <li class="facebook"><a href="https://www.facebook.com/sharer.php?u={URL}" target="_blank" rel="noopener noreferrer" title="Share on FaceBook">
                <img src="img/icon-share-facebook.svg" alt="FaceBook" /> FaceBook</a>
            </li>
            <li class="linkedin"><a href="https://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TITLE}&summary={TEXT}&source=moro.es" target="_blank" rel="noopener noreferrer" title="Share on LinkedIn">
                <img src="img/icon-share-linkedin.svg" alt="LinkedIn" /> LinkedIn</a>
            </li>
            <li class="email"><a href="mailto:?subject={TITLE}&amp;body={URL}%0A{TEXT}" target="_blank" rel="noopener noreferrer" title="Share it via E-Mail">
                <img src="img/icon-share-email.svg" alt="E-Mail" /> Mail</a>
            </li>
            <li class="telegram"><a href="https://telegram.me/share/url?url={URL}&amp;text={TEXT}" target="_blank" rel="noopener noreferrer" title="Share it via Telegram">
                <img src="img/icon-share-telegram.svg" alt="Telegram" /> Telegram</a>
            </li>
        </ul>
    </nav>
    <p>A project by : <a href="https://moro.es" target="_blank" rel="noopener noreferrer" title="Author website: www.moro.es">Jorge Moreno</a>. <strong><a href="https://twitter.com/alterebro" target="_blank" rel="noopener noreferrer" title="Follow @alterebro on Twitter!">@alterebro</a></strong></p>
</footer>

<script src="./js/tinytime.js" charset="utf-8"></script>
<script src="./js/vue.min.js" charset="utf-8"></script>
<script src="./js/geocode.js" charset="utf-8"></script>
<script src="./js/instagpx.js" charset="utf-8"></script>
<script src="./js/gpx.js" charset="utf-8"></script>
<script src="./js/img.js" charset="utf-8"></script>
<script src="./js/app.js" charset="utf-8"></script>

</body>
</html>
